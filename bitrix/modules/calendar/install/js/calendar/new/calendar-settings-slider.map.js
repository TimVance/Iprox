{"version":3,"sources":["calendar-settings-slider.js"],"names":["window","SettingsSlider","params","this","calendar","id","uid","Math","round","random","zIndex","sliderId","inPersonal","util","userIsOwner","showGeneralSettings","config","perm","access","settings","SLIDER_WIDTH","SLIDER_DURATION","prototype","show","doBxContextFix","BX","SidePanel","Instance","open","contentCallback","delegate","create","width","animationDuration","events","onClose","proxy","hide","onCloseComplete","destroy","disableKeyHandler","close","event","getSliderPage","getUrl","denyClose","denyAction","removeCustomEvent","enableKeyHandler","restoreBxContextFix","top","onCustomEvent","promise","Promise","ajax","get","getActionUrl","action","is_personal","show_general_settings","unique_id","sessid","bitrix_sessid","bx_event_calendar_request","reqId","html","fulfill","trim","initControls","bind","save","DOM","denyBusyInvitation","showWeekNumbers","sectionSelect","crmSelect","showDeclined","showTasks","showCompletedTasks","timezoneSelect","workTimeStart","workTimeEnd","weekHolidays","yearHolidays","yearWorkdays","typeAccess","TYPE_ACCESS","accessWrap","initAccessController","code","hasOwnProperty","insertAccessRow","getAccessName","manageCalDav","syncSlider","showCalDavSyncDialog","options","length","sections","sectionController","getSectionList","meetSection","parseInt","getUserOption","crmSection","i","section","selected","belongToOwner","add","Option","name","checked","showWeekNumber","value","work_time_start","work_time_end","in_array","week_holidays","year_holidays","year_workdays","userSettings","userTimezoneName","data","user_settings","user_timezone_name","push","type_access","request","type","handler","response","reload","accessControls","accessTasks","getTypeAccessTasks","accessLink","hasClass","removeClass","addClass","Access","Init","accessWrapInner","appendChild","props","className","accessTable","accessButtonWrap","accessButton","message","ShowForm","callback","provider","GetProviderName","popup","popupContainer","style","e","target","findTargetNode","srcElement","outerWrap","getAttribute","showAccessSelectorPopup","node","removeIcon","setValueCallback","valueNode","innerHTML","htmlspecialchars","title","cleanNode","rowNode","undefined","getDefaultTypeAccessTask","adjust","insertRow","titleNode","insertCell","valueCell","attrs","data-bx-calendar-access-selector","selectNode","text","data-bx-calendar-access-remove","accessPopupMenu","popupWindow","isShown","menuId","taskId","_this","menuItems","onclick","PopupMenu","closeByEsc","autoHide","offsetTop","offsetLeft","angle","addCustomEvent","BXEventCalendar"],"mappings":"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","file":"calendar-settings-slider.map.js"}